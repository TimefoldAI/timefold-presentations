<!doctype html>
<!--suppress HtmlRequiredAltAttribute -->
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Timefold for Operations Research</title>
    <meta name="description" content="This slide deck explains Operations Research with Timefold">
    <!--    <link href="https://github.com/TimefoldAI/timefold-presentations" rel="canonical">-->

    <link rel="stylesheet" href="../src/web/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../src/web/reveal/css/reveal.css">
    <link rel="stylesheet" href="../src/web/reveal/css/theme/simple.css" id="theme">
    <script>
      if (window.location.search.match(/print-pdf/gi)) {
        document.write('<link rel="stylesheet" href="../src/web/reveal/css/print/pdf.css">');
      }
    </script>
    <link rel="stylesheet" href="../src/web/reveal/plugin/highlight/a11y-light.css">
    <link rel="stylesheet" href="../src/web/timefold-presentation.css">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
</head>

<body>
<div class="reveal">
<div class="watermark watermark-left">
    <p>
        <img src="../src/web/social/linkedin-logo.svg"/> Geoffrey De Smet
    </p>
</div>
<div class="slides">
    <section>
        <img src="../src/web/social/timefold-logo.svg" height="100px"/>
        <h1>
            Open source solver<br/>for<br/>software engineers
        </h1>
        <div>
            <p>
                <span style="font-size: smaller">by</span> Geoffrey De Smet<br/>
            </p>
        </div>
    </section>
    <section>
        <section data-background-color="#3e00ff">
            <h2>The world is full<br/>
                of scheduling problems</h2>
        </section>
        <section>
            <h2>For example</h2>
        </section>
        <section>
            <img src="../src/content/static/airport-story/airport-arrival.png" class="fullImage">
        </section>
<!--        <section>-->
<!--            <img src="../src/content/static/airport-story/escalator_0.png" class="fullImage">-->
<!--            <img src="../src/content/static/airport-story/escalator_1.png" class="fullImage fragment">-->
<!--        </section>-->
<!--        <section>-->
<!--            <img src="../src/content/static/airport-story/check-in-counters_0.png" class="fullImage">-->
<!--            <img src="../src/content/static/airport-story/check-in-counters_1.png" class="fullImage fragment">-->
<!--            <img src="../src/content/static/airport-story/check-in-counters_2.png" class="fullImage fragment">-->
<!--        </section>-->
        <section>
            <img src="../src/content/static/airport-story/departures_0.png" class="fullImage">
            <img src="../src/content/static/airport-story/departures_1.png" class="fullImage fragment">
        </section>
        <section>
            <img src="../src/content/static/airport-story/security_0.png" class="fullImage">
            <img src="../src/content/static/airport-story/security_1.png" class="fullImage fragment">
        </section>
<!--        <section>-->
<!--            <img src="../src/content/static/airport-story/departure-gate_0.png" class="fullImage">-->
<!--            <img src="../src/content/static/airport-story/departure-gate_1.png" class="fullImage fragment">-->
<!--        </section>-->
        <section>
            <img src="../src/content/static/airport-story/airplanes-at-gates_0.png" class="fullImage">
            <img src="../src/content/static/airport-story/airplanes-at-gates_1.png" class="fullImage fragment">
<!--            <img src="../src/content/static/airport-story/airplanes-at-gates_2.png" class="fullImage fragment">
            <img src="../src/content/static/airport-story/airplanes-at-gates_3.png" class="fullImage fragment">-->
        </section>
        <section>
            <img src="../src/content/static/airport-story/pilots_0.png" class="fullImage">
            <img src="../src/content/static/airport-story/pilots_1.png" class="fullImage fragment">
        </section>
        <section>
            <h2>The world is full<br/>
                of scheduling problems</h2>
        </section>
        <section>
            <h2>Some are automated</h2>
        </section>
        <section>
            <h2>Few are <span class="highlight">optimized</span></h2>
        </section>
        <section>
            <h2>They use...</h2>
        </section>
        <section>
            <h2>Excel</h2>
        </section>
        <section>
            <h2><span class="fragment">Drag and drop</span><br/>
                Scheduling UI</h2>
        </section>
        <section>
            <figure>
                <img src="../src/content/static/ai/schedule-with-ai-button.png"/>
                <p class="fragment">Optimized for KPIs</p>
            </figure>
        </section>
        <section>
            <h2>Operations Research</h2>
        </section>
        <section>
            <h2>Why are so few <span class="highlight">optimized</span>?</h2>
            <p class="fragment">Less than 5%</p>
        </section>
        <section>
            <h2><i>Technology problem?</i></h2>
        </section>
        <section>
            <h2>30+ years</h2>
            <p class="fragment">CPLEX 1.0 in 1988</p>
        </section>
        <section>
            <h2><i>ROI problem?</i></h2>
        </section>
        <section>
            <img src="../src/content/timefold-solver-docs/use-cases-and-examples/vehicle-routing/vehicleRoutingValueProposition_0.png" class="fullImage">
        </section>
        <section>
            <h3>Vehicle routing case study</h3>
            <p>Expected: -1% driving time</p>
            <p class="fragment">Result: -25% driving time</p>
            <p class="fragment">⇒ -10 million kg CO² emission per year</p>
            <p class="fragment">⇒ <span class="highlight">-100 million $</span> cost per year</p>
        </section>
        <section>
            <h2><i>Reputation problem?</i></h2>
        </section>
        <section>
            <h2>Yes</h2>
        </section>
        <section>
            <h2>Too difficult</h2>
        </section>
        <section data-background-image="../src/content/static/llms-cant/scared-pexels.png"
                 data-background-size="stretch"><h1 class="fragment" style="color: #000000; float: right; margin-top: -300px">MATH</h1></section>
        <section>
            <h2>High risk</h2>
        </section>
        <section>
            <h2>What we see</h2>
        </section>
        <section>
            <img src="../src/content/static/operations-research/operations-research-project-lifecycle_0.png" class="fullImage">
            <img src="../src/content/static/operations-research/operations-research-project-lifecycle_1.png" class="fullImage fragment">
            <img src="../src/content/static/operations-research/operations-research-project-lifecycle_2.png" class="fullImage fragment">
            <img src="../src/content/static/operations-research/operations-research-project-lifecycle_3.png" class="fullImage fragment">
            <img src="../src/content/static/operations-research/operations-research-project-lifecycle_4.png" class="fullImage fragment">
            <img src="../src/content/static/operations-research/operations-research-project-lifecycle_5.png" class="fullImage fragment">
            <img src="../src/content/static/operations-research/operations-research-project-lifecycle_6.png" class="fullImage fragment">
            <img src="../src/content/static/operations-research/operations-research-project-lifecycle_7.png" class="fullImage fragment">
            <img src="../src/content/static/operations-research/operations-research-project-lifecycle_8.png" class="fullImage fragment">
            <img src="../src/content/static/operations-research/operations-research-project-lifecycle_9.png" class="fullImage fragment">
            <img src="../src/content/static/operations-research/operations-research-project-lifecycle_10.png" class="fullImage fragment">
        </section>
        <section>
            <h2>What management sees</h2>
        </section>
        <section>
            <img src="../src/content/static/operations-research/operations-research-project-lifecycle_10.png" class="fullImage">
            <img src="../src/content/static/operations-research/operations-research-project-lifecycle_11.png" class="fullImage fragment">
            <img src="../src/content/static/operations-research/operations-research-project-lifecycle_12.png" class="fullImage fragment">
            <img src="../src/content/static/operations-research/operations-research-project-lifecycle_13.png" class="fullImage fragment">
            <img src="../src/content/static/operations-research/operations-research-project-lifecycle_14.png" class="fullImage fragment">
            <img src="../src/content/static/operations-research/operations-research-project-lifecycle_15.png" class="fullImage fragment">
            <img src="../src/content/static/operations-research/operations-research-project-lifecycle_16.png" class="fullImage fragment">
            <img src="../src/content/static/operations-research/operations-research-project-lifecycle_17.png" class="fullImage fragment">
            <img src="../src/content/static/operations-research/operations-research-project-lifecycle_18.png" class="fullImage fragment">
            <img src="../src/content/static/operations-research/operations-research-project-lifecycle_19.png" class="fullImage fragment">
        </section>
        <section>
            <h2>Can we fix that?</h2>
        </section>
        <section>
            <h2>Succeed more<br/><span class="fragment"><span class="fragment">❤️</span><br/>Fail faster</span></h2>
        </section>
        <section>
            <h2>Reduce risk</h2>
        </section>
        <section>
            <h2>Easy to use</h2>
        </section>
        <section>
            <p class="fragment highlight">Our mission</p>
            <h2>Free the world of wasteful scheduling</h2>
        </section>
        <section>
            <figure>
                <img src="../src/web/social/timefold-logo.svg" height="100px"/>
            </figure>
            <ul style="margin-top: 30px;">
                <li class="fragment">Solver
                    <ul><li>Open Source (Apache license)</li></ul>
                </li>
                <li class="fragment">REST APIs for
                    <ul>
                        <li>Field Service Routing</li>
                        <li class="fragment">Employee Shift Scheduling</li>
                        <li class="fragment">Job Scheduling</li>
                        <li class="fragment">Pickup and Delivery Routing</li>
                    </ul>
                </li>
            </ul>
        </section>
    </section>

    <section>
        <section data-background-color="#3e00ff">
            <h2>Timefold Solver</h2>
            <p>Open source</p>
        </section>
        <section>
            <img src="../src/content/static/operations-research/operations-research-ugly-duckling_0.png" class="fullImage">
        </section>

        <section>
            <img src="../src/content/static/operations-research/operations-research-math-incantation_0.png" class="fullImage">
            <img src="../src/content/static/operations-research/operations-research-math-incantation_1.png" class="fullImage fragment">
            <img src="../src/content/static/operations-research/operations-research-math-incantation_2.png" class="fullImage fragment">
            <img src="../src/content/static/operations-research/operations-research-math-incantation_3.png" class="fullImage fragment">
            <img src="../src/content/static/operations-research/operations-research-math-incantation_4.png" class="fullImage fragment">
            <img src="../src/content/static/operations-research/operations-research-math-incantation_5.png" class="fullImage fragment">
        </section>
        <section>
            <h3>OR code (traditional)</h3>
            <pre class="fragment" xml:space="preserve"><span class="codeLabel">java</span><code class="java">for (int i = 0; i < numEmployees; i++) {
  for (int j = 0; j < numShifts; j++) {
    for (int k = j + 1; k < numShifts; k++) {
      model.addConstraint(
          LinearExpr.sum(new IntVar[]{s[i][j], d[j], r[i]})
          .leq(s[i][k])
      ).onlyEnforceIf(new IntVar[]{x[i][j], x[i][k]});
    }
  }
}
</code></pre>
        </section>
        <section>
            <img src="../src/content/static/operations-research/operations-research-ugly-duckling_0.png" class="fullImage">
            <img src="../src/content/static/operations-research/operations-research-ugly-duckling_1.png" class="fullImage fragment">
        </section>
        <section>
            <img src="../src/content/static/operations-research/operations-research-swan-focus_0.png" class="fullImage">
        </section>
        <section>
            <h2>Why Ease of Use?</h2>
        </section>
        <section>
            <h2><i>"We spend<br/> 10x more time reading<br/> production code<br/>than writing it."</i></h2>
        </section>
        <section>
            <h2>Code should be<br/>easy to read</h2>
        </section>
        <section>
            <img src="../src/content/static/operations-research/operations-research-timefold-incantation_0.png" class="fullImage">
            <img src="../src/content/static/operations-research/operations-research-timefold-incantation_1.png" class="fullImage fragment">
            <img src="../src/content/static/operations-research/operations-research-timefold-incantation_2.png" class="fullImage fragment">
            <img src="../src/content/static/operations-research/operations-research-timefold-incantation_3.png" class="fullImage fragment">
        </section>
        <section>
            <h3>Timefold Solver code</h3>
            <pre class="fragment" xml:space="preserve"><span class="codeLabel">java</span><code class="java">f.forEach(Shift.class)
  .join(Shift.class, equal(Shift::employee),
      lessThanOrEqual(Shift::end, Shift::start))
  .filter((shift1, shift2) ->
      Duration.between(shift1.end, shift2.start)
          .compareTo(shift1.employee.restDuration) < 0)
  .penalize(ONE_HARD)
  .asConstraint("Enough rest between shifts");
</code></pre>
        </section>
        <section>
            <h2>How many constraints?</h2>
            <p>A scaling problem</p>
        </section>
        <section>
            <h3>A real-word dataset (traditional)</h3>
            <ul>
                <li>10k employees</li>
                <li>50k shifts</li>
            </ul>
            <pre class="fragment" xml:space="preserve"><span class="codeLabel">java</span><code class="java">for (int i = 0; i < numEmployees; i++) { // 10k loop
  for (int j = 0; j < numShifts; j++) { // 50k loop
    for (int k = j + 1; k < numShifts; k++) { // 25k loop
      model.addConstraint(...).onlyEnforceIf(...);
    }
  }
}
</code></pre>
            <p class="fragment">2 500 000 000 000 CPU loops</p>
            <p class="fragment">2 500 000 000 000 constraints in memory</p>
            <p class="fragment negative">Out of memory error</p>
        </section>
        <section>
            <h3>A real-word dataset (Timefold)</h3>
            <ul>
                <li>10k employees</li>
                <li>50k shifts</li>
            </ul>
            <pre class="fragment" xml:space="preserve"><span class="codeLabel">java</span><code class="java">f.forEach(Shift.class)
  .join(Shift.class, equal(Shift::employee)) // ~250k tuples
  .filter() // 0-10 tuples
  .penalize(ONE_HARD)
  .asConstraint("Enough rest between shifts");
</code></pre>
            <p class="fragment">1 constraint</p>
            <p class="fragment">Only 250k tuples in memory</p>
            <p class="fragment positive">Lazy, incremental and indexed</p>
        </section>
<!--        <section>-->
<!--            <h2>Academical 🏎️ vs Business solutions 🚙</h2>-->
<!--        </section>-->
        <section>
            <h3>How many solutions per second?</h3>
            <div class="fragment">
                <p>Check the Timefold log:</p>
                <pre xml:space="preserve"><span class="codeLabel">log</span><code>08:27:00.867  INFO Solving started: ...
08:27:02.528  INFO Construction Heuristic ended: ...
                       move evaluation speed (39580/sec) ...
08:27:21.313  INFO Local Search ended: ...
                       move evaluation speed (101701/sec) ...
08:27:21.317  INFO Solving ended: ...
                       move evaluation speed (101461/sec) ...
</code></pre>
            </div>
            <p class="fragment">It looks at 100 000 solutions per second</p>
        </section>
        <section>
            <h2>Incremental calculation</h2>
            <p>Why not plain java code?</p>
        </section>
        <section>
            <img src="../src/content/timefold-solver-docs/constraints-and-score/performance/incrementalScoreCalculationEmployeeRostering_0.png" class="fullImage">
            <img src="../src/content/timefold-solver-docs/constraints-and-score/performance/incrementalScoreCalculationEmployeeRostering_1.png" class="fullImage fragment">
            <img src="../src/content/timefold-solver-docs/constraints-and-score/performance/incrementalScoreCalculationEmployeeRostering_2.png" class="fullImage fragment">
            <img src="../src/content/timefold-solver-docs/constraints-and-score/performance/incrementalScoreCalculationEmployeeRostering_3.png" class="fullImage fragment">
            <img src="../src/content/timefold-solver-docs/constraints-and-score/performance/incrementalScoreCalculationEmployeeRostering_4.png" class="fullImage fragment">
            <img src="../src/content/timefold-solver-docs/constraints-and-score/performance/incrementalScoreCalculationEmployeeRostering_5.png" class="fullImage fragment">
            <img src="../src/content/timefold-solver-docs/constraints-and-score/performance/incrementalScoreCalculationEmployeeRostering_6.png" class="fullImage fragment">
            <img src="../src/content/timefold-solver-docs/constraints-and-score/performance/incrementalScoreCalculationEmployeeRostering_7.png" class="fullImage fragment">
        </section>
        <section>
            <h2>If it isn't tested,<br/>it doesn't work.</h2>
        </section>
        <section>
            <h3>Unit testing</h3>
            <ul>
                <li>Given:
                    <ul>
                        <li>Ann at least 10 hours rest</li>
                        <li>Shift Monday 14:00-22:00 = Ann</li>
                        <li>Shift Tuesday 06:00-14:00 = Ann</li>
                    </ul>
                </li>
                <li class="fragment">Expected: penalty</li>
            </ul>
            <pre class="fragment" xml:space="preserve"><span class="codeLabel">java</span><code class="java">var ann = new Employee("Ann", ...);

verifier.verifyThat(employeeMinimalRest)
 .given(ann,
        new Shift(mon1400, mon2200, ann),
        new Shift(tue0600, tue1400, ann))
 .penalizes());
</code></pre>
            <p class="fragment positive">Isolated per constraint</p>
        </section>
        <section>
            <h2>If it isn't documented,<br/>it isn't used.</h2>
        </section>
        <section>
            <h2>DEMO</h2>
            <p>docs.timefold.ai</p>
        </section>
        <section>
            <h3>🖊 Model domain</h3>
            <h3 class="fragment">⚖️ Define constraints</h3>
            <h3 class="fragment"><span class="highlight">🚀 Run!</span></h3>
        </section>
    </section>


    <section data-background-color="#3e00ff">
        <h2>Free the world of wasteful scheduling</h2>
    </section>
    <section>
        <h3><span class="highlight">Build your own</span> model<br/>on open source</h3>
        <ol>
            <li>Go to <a href="https://solver.timefold.ai">solver.timefold.ai</a></li>
            <li>Click <a href="https://github.com/TimefoldAI/timefold-quickstarts"><i>Show me the code</i> button</a></li>
            <li>Pick a quickstart</li>
            <li>Run it 🚀</li>
        </ol>
    </section>
    <section>
        <h3>Q &amp; A</h3>
        <table class="links">
            <tr>
                <th>Get started</th>
                <td><a href="https://Solver.timefold.ai">solver.timefold.ai</a></td>
            </tr>
            <tr>
                <th>Documentation</th>
                <td><a href="https://docs.timefold.ai">docs.timefold.ai</a></td>
            </tr>
            <tr><th>&nbsp;</th><td>&nbsp;</td></tr>
            <tr>
                <th>Feedback</th>
                <td>
                    <img src="../src/web/social/linkedin-logo.svg"/> <img src="../src/web/social/bluesky-logo.svg"/> <a href="https://www.linkedin.com/in/ge0ffrey">Geoffrey De Smet</a>
                </td>
            </tr>
        </table>
    </section>

</div></div>

<script src="../src/web/jquery/jquery.min.js"></script>
<script src="../src/web/reveal/js/reveal.js"></script>
<script src="../src/web/reveal/plugin/highlight/highlight.js"></script>
<script src="../src/web/reveal/plugin/notes/notes.js"></script>

<script>
  const showControls = false;
  Reveal.initialize({
    controls: showControls,
    progress: true,
    history: true,
    center: true,
    margin: 0.05,
    minScale: 0.2,
    maxScale: 100.0,
    plugins: [ RevealHighlight, RevealNotes ],
  });
</script>
</body>
</html>
